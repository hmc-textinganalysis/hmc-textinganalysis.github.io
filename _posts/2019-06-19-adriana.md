---
layout: post
title: 2019-06-19
author: Adriana
---

{{ 2019-06-19 }}
================

<p class="meta">19 June 2019</p>

I am still working on packaging our program into a single file executable that does not require neither a terminal nor the multiple software libraries imported to one or more files. After quite a bit of trial and error I've managed to write a .spec file that serves as a sort of recipe or makefile for our executable; it tells pyinstaller what additional pieces are required and from where, and how to format the data into a single item. I can get our program to now run without pulling up a console from both the terminal as well as a clickable .exe executable. However, the goal of this task is to generate a .app file that can be passed to any computer running macOS and run on its own, no terminal or imports required. In the past week I have extensively gone over any and all documentation I could find relating to this software for tips and tricks on how to improve my techniques and work through (often obscure or poorly documented) error messages and bugs. I've tried several strategies relating to modifying various system files and kept notes on what I tried and where to see if I could find any combination of steps that guides me towards a solution. So far, I'm still stuck with the completed .app program just out of reach. Its internal executable (accessed by opening the package and navigating /Contents/MacOS, then clicking, works. But attempting to simply open the package does not. Instead, it opens and immediately closes itself without bringing up the window. 

At present, I'm convinced that this particular iteration of the bug is related to the error message:

"Matplotlib backend "MacOSX": ignored

Python is not installed as a framework. The Mac OS X backend will not be able to function correctly if Python is not installed as a framework. See the Python documentation for more information on installing Python as a framework on Mac OS X. Please either reinstall Python as a framework, or try one of the other backends. If you are using (Ana)Conda please install python.app and replace the use of 'python' with 'pythonw'. See 'Working with Matplotlib on OSX' in the Matplotlib FAQ for more information."

This message recommends downloading python.app, which I've done. The documentation mentioned is about three sentences long and offers no additional context to my problem, including where to replace 'python' with 'pythonw'. I tried changing last.py to last.pyw and calling it with the argument pythonw as opposed to python3. A combination of either or both runs the program correctly, but the generated package still doesn't do what I'm hoping it to. I wonder if there's a way to incorporate the python.app framework. The documentation acknowledges the autogenerated 'framework' folder contained within the distribution package, but only once to mention that it is autogenerated to be empty. There is no mention of how to incorporate a framework as far as I can find online. I tried copying the python.app framework into that folder, but it did nothing. I've tried shoehorning 'pythonw' or python.app into every conceivable place I can think of, but at best the program demonstrates the same behavior as before, and at worst I get an error message telling me I attempted something impossible.

Looking ahead, I'm not sure where I will go from this. I've read just about everything I can find relating to this specific behavior, but nothing offers the fix I'm looking for. I may look further into the 'matplotlib' library mentioned in the error, including the specific MacOSX backend mentioned. I'm not sure why it comes up, given that we don't import that library. When I attempted to include it either through the program itself or in the spec file, nothing changed. But I will likely revisit it before I put it to rest. Perhaps this message is unrelated entirely to the bug, or perhaps I am correct and the MacOSX background is in fact the missing piece to get this program to cleanly package itself and run without any external dependencies. Either way, I will continue working on this problem tomorrow.
